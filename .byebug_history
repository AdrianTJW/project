c
result.id
result
n
c
n
result
n
@result
n
c
n
result
n
@result
n
@result
n
@job
n
c
n
c
n
@client_token
c
@client_token
n
current_host
n
Braintree::ClientToken.generate
n
current_user.has_payment_info?
n
current_user
c
generate_client_token
c
Braintree::ClientToken.generate
current_user.braintree_customer_id
Braintree::ClientToken.generate(customer_id: current_user.braintree_customer_id)
generate_client_token
@client_token
c
@client_token
@booking
@job
current_user
@client_token
c
n
exit
current_user
current_user.has_payment_info?
c
@booking
c
n
params
exit
params
@result
c
n
params[:booking_id].nil?
@booking
params
exit
n
@result
exit
a = ActionController::Base.helpers.number_to_currency(@job.salary * 0.05)
number_to_currency(50)
number_to_currency("50.00")
number_to_currency(a)
sprintf "%.2f", a
BigDecimal(a)
Decimal(a)
a = ActionController::Base.helpers.number_with_precision(@job.salary * 0.05, precision: 2)
ActionController::Base.helpers.number_with_precision(@job.salary * 0.05, precision: 2).to_f
ActionController::Base.helpers.number_with_precision(@job.salary * 0.05, precision: 2).to_i
@job.salary
ActionController::Base.helpers.number_with_precision(@job.salary * 0.05, precision: 2)
render amount: number_with_precision(@job.salary * 0.05, precision: 2)
amount: number_with_precision(@job.salary * 0.05, precision: 2)
number_with_precision(50.0, precision: 2)
@job.salary * 0.05
@amount
exit
@result
c
n
@result
c
job.bookings
params
c
current_host.has_payment_info?
unless current_host.has_payment_info?
current_host.has_payment_info?
c
@job
c
params
c
params
c
params
c
params
c
exit
c
params
exit
params
@job
c
params
c
params
c
params
c
@job
c
params
c
params
c
exit
params
exit
@job
c
object
n
c
object
n
exit
object.save
object.image
object.save!
object
n
object
n
user.remote_image_url
user.remote_image_url = auth.info.image.gsub('http://','https://')
auth.info.image
user.image
user.remote_image_url
c
user.image
object
n
object
n
yield self if block_given?
user.remote_image_url
n
user.fullname
n
user.email
n
auth
c
params[:job_id]
exit
Booking.find_by(id: params[:id])
params
exit
@booking.id
@booking
params
c
params
exit
User.find_by(id: params[:id])
params
exit
@job.bookings.first.user.contact
@job.bookings.first.user.fullname
@job.bookings.first
@job.bookings
@job
@bookings.each do {|x| x.user.fullname}
@bookings.user
@bookings = @job.bookings.all
params
a.user
a = @job.bookings
@job.bookings.user
@job.bookings
@job.bookings.user.fullname
@job.booking.user.fullname
@job.bookings.user.fullname
@job.bookings
@job
c
current_user.bookings.where(user_id: current_user.id, job_id: params[:id]).any?
current_user.bookings.where(user_id: current_user.id, job_id: params[:id])
current_user.bookings.where(user_id: current_user.id, job_id: params[:id]).nil?
params
exit
Bookings.all
@job.bookings
@job.bookings.all
@job = Job.find_by(id: params[:job_id])
params[:job_id]
params
@job
c
x.bookings.each do {|y| y.user.fullname} end
x.bookings.each do {|y| y.user.fullname}
x.booking
x.bookings
c
current_host.jobs
current_host
c
current_user.bookings.where(user_id: current_user.id).nil?
current_user.bookings.where(user_id: current_user.id)
bookings.where(user_id: current_user.id)
current_user.bookings
current_user.bookings.user_id
@job.bookings.user_id
@job.booking.user_id
a.where(user_id: current_user.id)
current_user.id
a.id
a.user_id
a = @job.bookings
@job.bookings
@job.bookings.job_id
@job.bookings
@job.bookings.user_id
@job
@booking
exit
current_host.id
@job.host_id
cc
c
@hash
c
@hash
c
@hash
@jobs
c
a.search params[:company_name]
a.search params[:search]
a=Job.all
Job.all
